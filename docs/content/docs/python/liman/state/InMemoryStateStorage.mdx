---
title: InMemoryStateStorage
---

In-memory state storage for testing

## Attributes

<PyAttribute
  name={"executor_states"}
  type={"dict[UUID, dict[str, Any]]"}
  value={"{}"}
/>

<PyAttribute
  name={"actor_states"}
  type={"dict[UUID, dict[UUID, dict[str, Any]]]"}
  value={"{}"}
/>

## Functions

<PyFunction name={"__init__"} type={"__init__(self) -> None"}>

<PySourceCode >

```python
def __init__(self) -> None:
    self.executor_states: dict[UUID, dict[str, Any]] = {}
    self.actor_states: dict[UUID, dict[UUID, dict[str, Any]]] = {}
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />

</div>

<PyFunctionReturn type={"None"} />

</PyFunction>

<PyFunction name={"save_executor_state"} type={"save_executor_state(self, /, execution_id, state) -> None"}>

<PySourceCode >

```python
def save_executor_state(self, execution_id: UUID, state: dict[str, Any]) -> None:
    self.executor_states[execution_id] = state
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"execution_id"} type={"UUID"} value={null} />
<PyParameter name={"state"} type={"dict[str, Any]"} value={null} />

</div>

<PyFunctionReturn type={"None"} />

</PyFunction>

<PyFunction name={"load_executor_state"} type={"load_executor_state(self, /, execution_id) -> dict[str, Any] | None"}>

<PySourceCode >

```python
def load_executor_state(self, execution_id: UUID) -> dict[str, Any] | None:
    return self.executor_states.get(execution_id)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"execution_id"} type={"UUID"} value={null} />

</div>

<PyFunctionReturn type={"dict[str, Any] | None"} />

</PyFunction>

<PyFunction name={"save_actor_state"} type={"save_actor_state(self, /, execution_id, actor_id, state) -> None"}>

<PySourceCode >

```python
def save_actor_state(
    self, execution_id: UUID, actor_id: UUID, state: dict[str, Any]
) -> None:
    if execution_id not in self.actor_states:
        self.actor_states[execution_id] = {}
    self.actor_states[execution_id][actor_id] = state
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"execution_id"} type={"UUID"} value={null} />
<PyParameter name={"actor_id"} type={"UUID"} value={null} />
<PyParameter name={"state"} type={"dict[str, Any]"} value={null} />

</div>

<PyFunctionReturn type={"None"} />

</PyFunction>

<PyFunction name={"load_actor_state"} type={"load_actor_state(self, /, execution_id, actor_id) -> dict[str, Any] | None"}>

<PySourceCode >

```python
def load_actor_state(
    self, execution_id: UUID, actor_id: UUID
) -> dict[str, Any] | None:
    return self.actor_states.get(execution_id, {}).get(actor_id)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"execution_id"} type={"UUID"} value={null} />
<PyParameter name={"actor_id"} type={"UUID"} value={null} />

</div>

<PyFunctionReturn type={"dict[str, Any] | None"} />

</PyFunction>

<PyFunction name={"delete_execution_state"} type={"delete_execution_state(self, /, execution_id) -> None"}>

<PySourceCode >

```python
def delete_execution_state(self, execution_id: UUID) -> None:
    self.executor_states.pop(execution_id, None)
    self.actor_states.pop(execution_id, None)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"execution_id"} type={"UUID"} value={null} />

</div>

<PyFunctionReturn type={"None"} />

</PyFunction>

<PyFunction name={"asave_executor_state"} type={"asave_executor_state(self, /, execution_id, state) -> None"}>

<PySourceCode >

```python
async def asave_executor_state(
    self, execution_id: UUID, state: dict[str, Any]
) -> None:
    self.save_executor_state(execution_id, state)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"execution_id"} type={"UUID"} value={null} />
<PyParameter name={"state"} type={"dict[str, Any]"} value={null} />

</div>

<PyFunctionReturn type={"None"} />

</PyFunction>

<PyFunction name={"aload_executor_state"} type={"aload_executor_state(self, /, execution_id) -> dict[str, Any] | None"}>

<PySourceCode >

```python
async def aload_executor_state(self, execution_id: UUID) -> dict[str, Any] | None:
    return self.load_executor_state(execution_id)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"execution_id"} type={"UUID"} value={null} />

</div>

<PyFunctionReturn type={"dict[str, Any] | None"} />

</PyFunction>

<PyFunction name={"asave_actor_state"} type={"asave_actor_state(self, /, execution_id, actor_id, state) -> None"}>

<PySourceCode >

```python
async def asave_actor_state(
    self, execution_id: UUID, actor_id: UUID, state: dict[str, Any]
) -> None:
    self.save_actor_state(execution_id, actor_id, state)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"execution_id"} type={"UUID"} value={null} />
<PyParameter name={"actor_id"} type={"UUID"} value={null} />
<PyParameter name={"state"} type={"dict[str, Any]"} value={null} />

</div>

<PyFunctionReturn type={"None"} />

</PyFunction>

<PyFunction name={"aload_actor_state"} type={"aload_actor_state(self, /, execution_id, actor_id) -> dict[str, Any] | None"}>

<PySourceCode >

```python
async def aload_actor_state(
    self, execution_id: UUID, actor_id: UUID
) -> dict[str, Any] | None:
    return self.load_actor_state(execution_id, actor_id)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"execution_id"} type={"UUID"} value={null} />
<PyParameter name={"actor_id"} type={"UUID"} value={null} />

</div>

<PyFunctionReturn type={"dict[str, Any] | None"} />

</PyFunction>

<PyFunction name={"adelete_execution_state"} type={"adelete_execution_state(self, /, execution_id) -> None"}>

<PySourceCode >

```python
async def adelete_execution_state(self, execution_id: UUID) -> None:
    self.delete_execution_state(execution_id)
```

</PySourceCode>

<div >

<PyParameter name={"self"} type={null} value={null} />
<PyParameter name={"execution_id"} type={"UUID"} value={null} />

</div>

<PyFunctionReturn type={"None"} />

</PyFunction>
